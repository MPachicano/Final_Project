---
title: "R Notebook"
output: html_notebook
---
# Section 1: Update

## htseq-count input
## I am still working on this part. I have tried various ways to upload my data into a working directory in R Studio, but have not figured out why R Studio directory is not able to make the connection to where my output files are located. I am attempting to do this first with a small subset of files (~15), before I input the rest of my data.

## Here is one method I have tried to input files. I tried the setwd() and get(wd) method which I saw in the Bioconductor module in the TRGN website. The module utilized RNASeq123, which is different than DESeq, but I thought I would give it a try. 
```{r}
setwd("~/Desktop/output3/")
```
```{r}
files <- c("8c2ae90d-ad7e-4953-becd-839658bf46cb.htseq.counts", "10d6deec-fd89-4115-92f5-c9def40428b5.htseq.counts", "697d372a-b7b7-46fa-8f96-9a11997e47b8.htseq.counts")
read.delim(files[1], nrow=5, header=FALSE)
getwd()
```



## Here is another way I am attempting to input htseq-counts data. This comes from the DESeq vignette. I am supposed to be able to just create a directory by specifying the path to where my output files are located. I have tried this in several different file locations, and I cannot figure it out. I am able to succesfully crreate a sampleTable, but it is empty. Therefore, I know that the issue here is likely due to my files not being to be found/read properly and thus not being stored in the dataframe. I will keep troubleshooting.  

```{r}
directory <- "~/Desktop/files/"
```


```{r}
sampleFiles <- grep("treated",list.files(directory),value=TRUE)
sampleCondition <- sub("(.*treated).*","\\1",sampleFiles)
sampleTable <- data.frame(sampleName = sampleFiles,
                          fileName = sampleFiles,
                          condition = sampleCondition)
sampleTable$condition <- factor(sampleTable$condition)
```

```{r}
library("DESeq2")
ddsHTSeq <- DESeqDataSetFromHTSeqCount(sampleTable = sampleTable,
                                       directory = directory,
                                       design= ~ condition)
ddsHTSeq
```

# Section 2: Next Steps
## My next steps are to succesfully download the rest of my files and input them into a working directory in R Studio. I will also try to complete the entire first round of analysis in the vignette. 


# Section 3: Data
## I will put my data in a shared Google Drive as a tar/zip file.

# Section 4: Known Issues
## Known Issue 1 - Downloading clinical data. When I download clinical data from https://portal.gdc.cancer.gov/, each sample/patient is listed twice. In many of these duplicates, there are some inconsistincies in the data. This is something to note but I do not think it will be an issue in my analysis.

## Known Issue 2 - When I download my "cart" from https://portal.gdc.cancer.gov/, it comes in a zipped folder. I want to find a way to unzip ALL of my files at once. But I first have to figure out how i can get the folder of files from my computer into R Studio. Once I have a folder of ht-seq counts files in R Studio, I can unzip them all at once instead of having to unzip one by one and put them in a folder by hand. 

## Known Issue 3 - I am unable to get my output files into an R Studio working directory. I am not sure why my files are unable to be found, I am using the commands from the DESeq vignette. I have spent over 20 hours trying to figure this out and I am still stuck. I am requesting an extension for this Milestone, because I simply have not figured it out yet. 